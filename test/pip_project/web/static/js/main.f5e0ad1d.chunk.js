(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{161:function(e,t,a){},163:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),s=a.n(c),o=a(8),l=(a(85),a(70)),i=a.n(l),u=a(71),m=a.n(u),d=(a(91),a(2)),h=a(3),p=a(5),f=a(4),E=a(6),g=a(165),b=a(166),v=a(168),w=a(20),O=a(25),j=a(17),y=a.n(j),C=a(7),k=a.n(C),x=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",error:"",didSignUp:!1},a.handleChange=function(e,t){a.setState(Object(O.a)({},a.state,Object(w.a)({},e,t)))},a.toLogin=function(){return a.props.dispatch({type:"SET_REGISTRATION",value:!1})},a.setError=function(e){a.handleChange("error",e)},a.signUp=function(){null===a.state.username||a.state.username.length<1?a.setError("\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f."):!1===_.test(a.state.username)&a.state.username.length>1&null!=a.state.username?a.setError("\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 email"):null===a.state.password||a.state.password.length<1?a.setError("\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043f\u0430\u0440\u043e\u043b\u044c."):fetch("/users/registration/new",{method:"POST",body:JSON.stringify({username:a.state.username,password:a.state.password})}).then(function(e){e.ok?e.json().then(function(e){"true"===e.success?(a.setError(""),a.handleChange("didSignUp",!0)):a.setError(e.error)}).catch(function(e){a.handleChange("error",e.message)}):a.setError("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.")}).catch(function(e){a.setError("\u041d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441: "+e.statusText)})},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"renderAfterSignUp",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430"),r.a.createElement(k.a,{onClick:this.toLogin,flat:!0},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"))}},{key:"render",value:function(){return this.state.didSignUp?this.renderAfterSignUp():r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("b",null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),r.a.createElement(y.a,{type:"email",label:"Email address",id:"user",name:"username",value:this.state.username,onChange:this.handleChange.bind(this,"username")}),r.a.createElement(y.a,{type:"password",id:"pass",label:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",value:this.state.password,onChange:this.handleChange.bind(this,"password")}),r.a.createElement("span",{style:{color:"red"}}," ",this.state.error," "),r.a.createElement("br",null),r.a.createElement(k.a,{className:"button2",raised:!0,primary:!0,style:{marginRight:"5px"},onClick:this.signUp},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),r.a.createElement(k.a,{className:"button2",onClick:this.toLogin,flat:!0},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f")))}}]),t}(n.Component),_=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/,S=Object(o.b)()(x),T=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",error:""},a.handleChange=function(e,t){a.setState(Object(O.a)({},a.state,Object(w.a)({},e,t)))},a.toSignUp=function(){return a.props.dispatch({type:"SET_REGISTRATION",value:!0})},a.login=function(){null===a.state.username||a.state.username.length<1?a.handleChange("error","\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f."):null===a.state.password||a.state.password.length<1?a.handleChange("error","\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043f\u0430\u0440\u043e\u043b\u044c."):fetch("j_security_check",{method:"POST",body:JSON.stringify({username:a.state.username,password:a.state.password})}).then(function(e){e.ok?e.json().then(function(e){"true"===e.success?(a.handleChange("error",""),window.location.href="/competitions/all"):a.handleChange("error",e.error)}).catch(function(e){a.handleChange("error",e.message)}):a.handleChange("error","\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.")}).catch(function(e){a.handleChange("error","\u041d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441: "+e.statusText)})},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("b",null,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),r.a.createElement("br",null),r.a.createElement(y.a,{type:"email",label:"Email address",id:"user",name:"username",value:this.state.username,onChange:this.handleChange.bind(this,"username")}),r.a.createElement(y.a,{type:"password",id:"pass",label:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",value:this.state.password,onChange:this.handleChange.bind(this,"password")}),r.a.createElement("span",{style:{color:"red"}}," ",this.state.error," "),r.a.createElement("br",null),r.a.createElement(k.a,{className:"button1",raised:!0,primary:!0,style:{marginRight:"5px"},onClick:this.login},"\u0412\u043e\u0439\u0442\u0438"),r.a.createElement(k.a,{className:"button2",onClick:this.toSignUp,flat:!0},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438")))}}]),t}(n.Component),A=Object(o.b)()(T),M=Object(o.b)(function(e){return e})(function(e){return e.isRegistration?r.a.createElement(S,null):r.a.createElement(A,null)});var I=function(e){return r.a.createElement("div",{id:"bottomhead"},e.author1,", ",e.author2," ",e.group)},U=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null," \u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u043d\u0430 \u0441\u0430\u0439\u0442 \u043b\u043e\u0434\u043e\u0447\u043d\u043e\u0433\u043e \u043a\u043b\u0443\u0431\u0430 ",r.a.createElement("br",null),'"\u0416\u0435\u043b\u0442\u0430\u044f \u0443\u0442\u043e\u0447\u043a\u0430"! ')}}]),t}(n.Component),N=a(14),R=Object(N.b)(function(e,t){var a=Object.assign({},e);switch(t.type){case"SET_REGISTRATION":return a.isRegistration=t.value,a.errorMsg="",a.successMsg="",a;case"SET_ERROR":return a.errorMsg=t.value,a.successMsg="",a;case"SET_SUCCESS":return a.successMsg=t.value,a.errorMsg="",a;default:return a}},{isRegistration:!1,errorMsg:"",successMsg:""});"/"!=window.location.pathname&&"/users/profile/logout"!=window.location.pathname||(document.title="Start Page");n.Component,a(113);var P=a(18),B=a.n(P),D=a(72),G=a.n(D),F=a(73),W=a.n(F),L=a(164),q=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).logout=function(){document.cookie="","/users/profile/logout"==window.location&&(window.location.href="/")},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"menu"},r.a.createElement(G.a,{theme:"appBar",flat:!0},r.a.createElement(W.a,{type:"horizontal"},r.a.createElement(L.a,{to:"/webApp/"},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f "),r.a.createElement(L.a,{to:"/webApp/message"}," \u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f "),r.a.createElement(L.a,{to:"/webApp/sections"}," \u0424\u043e\u0440\u0443\u043c "),r.a.createElement(L.a,{to:"/webApp/users/profile"}," \u041f\u0440\u043e\u0444\u0438\u043b\u044c "),r.a.createElement(L.a,{to:"/webApp/boats"}," \u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440 "),r.a.createElement("form",{action:"commands/users/profile/logout",method:"post"},r.a.createElement("input",{type:"submit",value:"\u0412\u044b\u0439\u0442\u0438",id:"link-lookalike"})))))}}]),t}(n.Component),H=(Object(o.b)(function(e){return e})(q),q);var z=function(e){var t=e.info;window.innerWidth<1191&&(t="");return r.a.createElement("div",{id:"heads"},r.a.createElement("div",null,r.a.createElement("img",{className:"utocka",src:B.a,width:"150",height:"150"})),r.a.createElement("div",{id:"info"}," ",r.a.createElement("b",null,'\u041a\u043b\u0443\u0431 "\u0416\u0435\u043b\u0442\u0430\u044f \u0443\u0442\u043e\u0447\u043a\u0430"'),r.a.createElement("div",{id:"some"}," ",t," ")))},J=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={users:[]},fetch("commands/users/all",{method:"GET"}).then(function(e){e.ok?e.json().then(function(e){a.state.users=e,console.log(e),a.forceUpdate()}).catch(function(e){console.log(e.message)}):a.handleChange("error","\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.")}).catch(function(e){alert("\u041d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441: "+e.statusText)}),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=[];e=(e=this.state.users.slice()).sort(function(e,t){return e.rate>t.rate?-1:e.rate<t.rate?1:0});for(var t=[],a=0;a<e.length;a++){console.log(e[a]);var n=e[a];t.push(r.a.createElement("tr",null,r.a.createElement("td",null,n.name),"                              ",r.a.createElement("td",null,n.rate),r.a.createElement("td",null,n.sportRate)))}return r.a.createElement("div",{id:"RaitingComponent"},r.a.createElement("table",{className:"table_blur"},r.a.createElement("tr",null,r.a.createElement("th",null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"),r.a.createElement("th",null,"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"),r.a.createElement("th",null,"\u0421\u043f\u043e\u0440\u0442\u0438\u0432\u043d\u044b\u0439 \u0440\u0430\u0437\u0440\u044f\u0434")),t))}}]),t}(n.Component),Z=(Object(o.b)(function(e){return e})(J),J),Q=a(41);a(132);"/users/all"==window.location.pathname&&(document.title="Main Page");var $={username:function(){var e=("; "+document.cookie).split("; username=");return 2===e.length?e.pop().split(";").shift():"username not set"}()};var X=Object(N.b)(function(e,t){var a=Object.assign({},e);switch(t.type){case"SET_USERNAME":return a.username=t.username,a;default:return a}},$),V=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).onMessage=function(e){console.log("Start process on message..."),1!=a.state.message?(a.state.message=!0,Q.NotificationManager.info(e.data),console.log("Message got:",e),a.forceUpdate()):a.state.message=!1},a.onOpen=function(){console.log("connection opened")},a.handleSnackbarClick=function(e,t){console.log("handleSnackbarClick",e,t),a.state.active=!1,a.forceUpdate()},a.state={message:!1,active:!0,webSocket:""},a.state.webSocket=new WebSocket("ws://localhost:20067/webApp/notifications"),a.state.webSocket.onmessage=a.onMessage,a.state.webSocket.onopen=a.onOpen,a.state.webSocket.onclose=function(){console.log("connection closed")},a.state.webSocket.onerror=function(e){console.log("error: "+e)},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return document.title="Main page",r.a.createElement("div",null,r.a.createElement(o.a,{store:X},r.a.createElement(H,null)),r.a.createElement(z,{info:"\u041d\u0430 \u0434\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0437\u043d\u0430\u043a\u043e\u043e\u043c\u0438\u0442\u0441\u044f \u0441 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u043e\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439)"}),r.a.createElement(Q.NotificationContainer,{class:"notification-info"}),r.a.createElement("div",{id:"main_mainp"},r.a.createElement(Z,null),r.a.createElement("div",{id:"footer"},r.a.createElement("div",{id:"bot"},r.a.createElement(I,{author1:"@ \u0425\u0440\u0443\u043b\u0435\u0432 \u0412\u0438\u043a\u0442\u043e\u0440",author2:"\u0412\u043e\u0437\u0436\u0430\u0435\u0432 \u0410\u0440\u0442\u0435\u043c",group:"\u0418\u0422\u041c\u041e 2018"})))))}}]),t}(n.Component),Y=(a(36),function(e){function t(e){var a;Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={topics:[]};var n=window.location.pathname;return n="/webApp/commands/forum/"+(n=(n=n.split("/"))[3])+"/all",fetch(n,{method:"GET"}).then(function(e){e.ok?e.json().then(function(e){a.state.topics=e,console.log(e),a.forceUpdate()}).catch(function(e){alert(e.message)}):a.handleChange("error","\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.")}).catch(function(e){alert("\u041d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441: "+e.statusText)}),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){for(var e=[],t=this.state.topics.length-1;t>=0;t--){console.log(this.state.topics[t]);var a=this.state.topics[t].id,n=window.location.pathname,c="/webApp/records/"+(n=(n=n.split("/"))[3])+"/"+a.topicName+"/all";e.push(r.a.createElement("li",null,r.a.createElement(L.a,{to:c},a.topicName)))}return r.a.createElement("div",{id:"SectionsComponent"},r.a.createElement("ol",{className:"pills"},e))}}]),t}(n.Component)),K=(Object(o.b)(function(e){return e})(Y),Y),ee=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={sections:[]},fetch("commands/forum/sections/all",{method:"GET"}).then(function(e){e.ok?e.json().then(function(e){a.state.sections=e,console.log(e),a.forceUpdate()}).catch(function(e){console.log(e.message)}):a.handleChange("error","\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.")}).catch(function(e){console.log("\u041d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441: "+e.statusText)}),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){for(var e=[],t=this.state.sections.length-1;t>=0;t--){console.log(this.state.sections[t]);var a=this.state.sections[t],n="/webApp/topics/"+a.sectionName+"/all";e.push(r.a.createElement("li",null,r.a.createElement(L.a,{to:n},a.sectionName)))}return r.a.createElement("div",{id:"SectionsComponent"},r.a.createElement("ol",{className:"pills"},e))}}]),t}(n.Component),te=(Object(o.b)(function(e){return e})(ee),ee);"/sections"==window.location.pathname&&(document.title="Forum Page");var ae={username:function(){var e=("; "+document.cookie).split("; username=");return 2===e.length?e.pop().split(";").shift():"username not set"}()};var ne=Object(N.b)(function(e,t){var a=Object.assign({},e);switch(t.type){case"SET_USERNAME":return a.username=t.username,a;default:return a}},ae),re=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return document.title="Forum page",r.a.createElement("div",null,r.a.createElement(o.a,{store:ne},r.a.createElement(H,null)),r.a.createElement(z,{info:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u044e\u0449\u0438\u0439 \u0432\u0430\u0441 \u0440\u0430\u0437\u0434\u0435\u043b \u0444\u043e\u0440\u0443\u043c\u0430)"}),r.a.createElement("div",{id:"main_forum"},r.a.createElement(te,null),r.a.createElement("div",{id:"footer"},r.a.createElement("div",{id:"bot"},r.a.createElement(I,{author1:"@ \u0425\u0440\u0443\u043b\u0435\u0432 \u0412\u0438\u043a\u0442\u043e\u0440",author2:"\u0412\u043e\u0437\u0436\u0430\u0435\u0432 \u0410\u0440\u0442\u0435\u043c",group:"\u0418\u0422\u041c\u041e 2018"})))))}}]),t}(n.Component);window.location.pathname.indexOf("/topics")+1&&(document.title="Forum Page");var ce={username:function(){var e=("; "+document.cookie).split("; username=");return 2===e.length?e.pop().split(";").shift():"username not set"}()};var se=Object(N.b)(function(e,t){var a=Object.assign({},e);switch(t.type){case"SET_USERNAME":return a.username=t.username,a;default:return a}},ce),oe=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return document.title="Forum page",r.a.createElement("div",null,r.a.createElement(o.a,{store:se},r.a.createElement(H,null)),r.a.createElement(z,{info:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u044e\u0449\u0443\u044e \u0432\u0430\u0441 \u0442\u0435\u043c\u0443 \u043e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u044f)"}),r.a.createElement("div",{id:"main_forum"},r.a.createElement(K,null),r.a.createElement("div",{id:"footer"},r.a.createElement("div",{id:"bot"},r.a.createElement(I,{author1:"@ \u0425\u0440\u0443\u043b\u0435\u0432 \u0412\u0438\u043a\u0442\u043e\u0440",author2:"\u0412\u043e\u0437\u0436\u0430\u0435\u0432 \u0410\u0440\u0442\u0435\u043c",group:"\u0418\u0422\u041c\u041e 2018"})))))}}]),t}(n.Component),le=a(74),ie=a.n(le);var ue=function(e){return r.a.createElement("div",null,r.a.createElement(ie.a,{src:e.userid,fallbackImage:"/webApp/\u0443\u0442\u043a\u0430-9.jpg",initialImage:"/webApp/\u0443\u0442\u043a\u0430-9.jpg",className:"my-image"}))},me=a(27),de=a.n(me),he=a(21),pe=a.n(he),fe={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"300px",height:"200px"}},Ee=function(e){function t(e){var a;Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={coments:[],nowuser:[],modalchangecomIsOpen:!1,changecom:"",changecomid:"",changei:"",user:""},a.delcoment=function(e,t,n){var r=a.state.nowuser;r.id,r.groups[0];fetch("/webApp/commands/forum/records/delete/comment/"+e,{method:"POST"}).then(function(e){e.ok?e.json().then(function(e){a.removeItem(t),a.forceUpdate()}).catch(function(e){console.log("json parse error: "+e),a.removeItem(t),a.forceUpdate()}):alert("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.")}).catch(function(e){console.log("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441: "+e)})},a.changecoment=function(){var e=document.getElementById("changeTextArea1").value;a.setState({changecom:e});var t=a.state.nowuser,n=(t.id,t.groups[0],new FormData);n.set("newCommentText",e),fetch("/webApp/commands/forum/records/change/comment/"+a.state.changecomid,{method:"POST",body:n}).then(function(e){e.ok?e.json().then(function(e){var t=a.state.changei;a.state.coments[t].coment=a.state.changecom,a.closeModalchangecom(),a.forceUpdate()}).catch(function(e){console.log("json parse error: "+e),a.closeModalchangecom(),a.forceUpdate()}):alert("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.")}).catch(function(e){alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441: "+e)})};var n=a.props.recordid;n="/webApp/commands/forum/records/"+n+"/all",fetch(n,{method:"GET"}).then(function(e){e.ok?e.json().then(function(e){a.state.coments=e,a.forceUpdate()}).catch(function(e){console.log(e.message)}):a.handleChange("error","\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.")}).catch(function(e){console.log("\u041d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441: "+e.statusText)}),fetch("/webApp/commands/users/profile/info",{method:"GET"}).then(function(e){e.ok?e.json().then(function(e){a.state.nowuser=e,a.forceUpdate()}).catch(function(e){console.log(e.message)}):a.handleChange("error","\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.")}).catch(function(e){console.log("\u041d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441: "+e.statusText)});var r=a.props.newcoment;return a.state.coments=a.state.coments.push(r),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"openModalchangecom",value:function(){this.setState({modalchangecomIsOpen:!0})}},{key:"closeModalchangecom",value:function(){this.setState({modalchangecomIsOpen:!1})}},{key:"settochangecom",value:function(e,t,a){this.setState({changecomid:e}),this.setState({changei:t}),this.setState({user:a}),this.setState({modalchangecomIsOpen:!0})}},{key:"removeItem",value:function(e){this.setState(function(t){return{records:de()(t.records,{$splice:[[e,1]]})}})}},{key:"render",value:function(){for(var e=this,t=[],a=[],n=[],c=this.props.open,s=function(a){console.log("comment",e.state.coments[a]);var n=e.state.coments[a],c="/imgUpload/avatar_"+n.author.id+".png",s=n.id,o=n.author.id;ge>=1192?t.push(r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("tr",null,r.a.createElement(ue,{userid:c})),r.a.createElement("tr",null,n.author.name," ")),r.a.createElement("td",null,r.a.createElement("div",{class:"white_space1"},r.a.createElement("tr",{class:"white_space"},n.message))),r.a.createElement("td",null,r.a.createElement("tr",null," ",r.a.createElement(k.a,{class:"sbut",onClick:function(){return e.delcoment(s,a,o)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439")),r.a.createElement("tr",null," ",r.a.createElement(k.a,{class:"sbut",onClick:function(){return e.settochangecom(s,a,o)}},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"))))):ge>=750&&ge<=1191?t.push(r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("tr",null,n.author.name," ")),r.a.createElement("td",null,r.a.createElement("tr",null,r.a.createElement(k.a,{class:"sbut",onClick:function(){return e.delcoment(s,a,o)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439")," ",r.a.createElement("br",null),r.a.createElement(k.a,{class:"sbut",onClick:function(){return e.settochangecom(s,a,o)}},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439")),r.a.createElement("div",{class:"white_space1"},r.a.createElement("tr",{class:"white_space"},n.message))))):ge<750&&t.push(r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("tr",null,r.a.createElement(k.a,{class:"sbut",onClick:function(){return e.delcoment(s,a,o)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439")," ",r.a.createElement("br",null),r.a.createElement(k.a,{class:"sbut",onClick:function(){return e.settochangecom(s,a,o)}},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439")),r.a.createElement("div",{class:"white_space1"},r.a.createElement("tr",{class:"white_space"},n.message)))))},o=this.state.coments.length-1;o>=0;o--)s(o);return ge>=1192&&(a.push(r.a.createElement("th",null,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435")),n.push(r.a.createElement("th",null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"))),ge>=750&&ge<=1191&&n.push(r.a.createElement("th",null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c")),console.log(t),1==c?[r.a.createElement("div",{id:"commentsinrecord"},r.a.createElement("table",{className:"table_blur"},r.a.createElement("caption",null,"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 "),r.a.createElement("tr",null,n,r.a.createElement("th",null,"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),a),t)),r.a.createElement("div",{id:"Model3"},r.a.createElement(pe.a,{isOpen:this.state.modalchangecomIsOpen,onRequestClose:this.closeModalchangecom.bind(this),style:fe,contentLabel:"ChangeCom Modal"},r.a.createElement("div",null,"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),r.a.createElement("form",null,r.a.createElement("textarea",{id:"changeTextArea1",name:"changerec"}),"                              ",r.a.createElement(k.a,{onClick:this.changecoment},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"))))]:r.a.createElement("div",null," ")}}]),t}(n.Component),ge=window.screen.width,be=(Object(o.b)(function(e){return e})(Ee),Ee),ve={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"300px",height:"200px"}},we=function(e){function t(e){var a;Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={records:[],open:!1,nowuser:"",modalrecordIsOpen:!1,modalcomentIsOpen:!1,modalchangerecIsOpen:!1,changerecord:"",changerecordid:"",changei:"",user:"",recordid:"",newcoment:""},a.delrecord=function(e,t,n){var r=a.state.nowuser;r.id,r.groups[0];fetch("/webApp/commands/forum/records/delete/"+e,{method:"POST",body:JSON.stringify(e)}).then(function(e){e.ok?e.json().then(function(e){a.removeItem(t),a.forceUpdate()}).catch(function(e){console.log("json parse error: "+e)}):alert("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.")}).catch(function(e){alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441: "+e)})},a.addrecord=function(){var e=document.getElementById("newRecord").value;console.log("new record:",e,document.getElementById("newRecord"));var t=window.location.pathname;t="/webApp/commands/forum/"+(t=t.split("/"))[3]+"/"+t[4]+"/new";var n=new FormData;n.set("message",e),fetch(t,{method:"POST",body:n}).then(function(e){e.ok?e.json().then(function(e){a.state.records=e,a.closeModalrecord(),a.forceUpdate()}).catch(function(e){alert("json parse error: "+e)}):alert("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.")}).catch(function(e){alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441: "+e)})},a.changerecord=function(){var e=document.getElementById("changeTextArea").value;a.setState({changerecord:e});var t=a.state.nowuser,n=(t.id,t.groups[0],new FormData);n.set("newMessage",e),fetch("/webApp/commands/forum/records/change/"+a.state.changerecordid,{method:"POST",body:n}).then(function(e){e.ok?e.json().then(function(e){var t=a.state.changei;a.state.records[t].record=a.state.changerecord,a.closeModalchangerec(),a.forceUpdate()}).catch(function(e){console.log("json parse error: "+e)}):alert("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.")}).catch(function(e){alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441: "+e)})},a.addcoment=function(){var e=a.state.recordid,t=document.getElementById("newComment").value,n="/webApp/commands/forum/records/"+e+"/new",r=new FormData;r.set("commentText",t),fetch(n,{method:"POST",body:r}).then(function(e){e.ok?e.json().then(function(e){a.setState({newcoment:e}),a.closeModalcoment(),a.forceUpdate()}).catch(function(e){alert("json parse error: "+e)}):alert("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.")}).catch(function(e){alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441: "+e)})};var n=window.location.pathname,r=(n=n.split("/"))[3],c=n[4];return console.log("path from 62 line in Records comp",n),n="/webApp/commands/forum/"+r+"/"+c+"/all",fetch(n,{method:"GET"}).then(function(e){e.ok?e.json().then(function(e){a.state.records=e,a.forceUpdate()}).catch(function(e){console.log(e.message)}):a.handleChange("error","\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.")}).catch(function(e){console.log("\u041d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441: "+e.statusText)}),fetch("/webApp/commands/users/profile/info",{method:"GET"}).then(function(e){e.ok?e.json().then(function(e){a.state.nowuser=e,a.forceUpdate()}).catch(function(e){console.log(e.message)}):a.handleChange("error","\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.")}).catch(function(e){console.log("\u041d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441: "+e.statusText)}),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"openModalrecord",value:function(){this.setState({modalrecordIsOpen:!0})}},{key:"closeModalrecord",value:function(){this.setState({modalrecordIsOpen:!1})}},{key:"openModalcoment",value:function(){this.setState({modalcomentIsOpen:!0})}},{key:"closeModalcoment",value:function(){this.setState({modalcomentIsOpen:!1})}},{key:"openModalchangerec",value:function(){this.setState({modalchangerecIsOpen:!0})}},{key:"closeModalchangerec",value:function(){this.setState({modalchangerecIsOpen:!1})}},{key:"setrecordid",value:function(e){this.setState({recordid:e}),this.setState({modalcomentIsOpen:!0})}},{key:"settochangerec",value:function(e,t,a){this.setState({changerecordid:e}),this.setState({changei:t}),this.setState({user:a}),this.setState({modalchangerecIsOpen:!0})}},{key:"removeItem",value:function(e){this.setState(function(t){return{records:de()(t.records,{$splice:[[e,1]]})}})}},{key:"toggleChildMenu",value:function(){this.setState({open:!this.state.open})}},{key:"render",value:function(){for(var e=this,t=[],a=[],n=[],c=[],s=function(a){console.log(e.state.records[a]);var n=e.state.records[a],c="/imgUpload/avatar_"+n.userid+".png",s=n.id,o=n.author.id;Oe>=1192?t.push(r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("tr",null,r.a.createElement(ue,{userid:c})),r.a.createElement("tr",null,n.author.name," ")),r.a.createElement("td",null,r.a.createElement("div",{class:"white_space1"},r.a.createElement("tr",null,n.message)),r.a.createElement("tr",null,r.a.createElement(be,{recordid:s,open:e.state.open,newcoment:e.state.newcoment}))),r.a.createElement("td",null,r.a.createElement("tr",null,r.a.createElement(k.a,{className:"sbut",onClick:function(){return e.delrecord(s,a,o)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c")," "),r.a.createElement("tr",null," ",r.a.createElement(k.a,{className:"sbut",onClick:function(){return e.settochangerec(s,a,o)}},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c")),r.a.createElement("tr",null," ",r.a.createElement(k.a,{className:"sbut",onClick:function(){return e.setrecordid(s)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439")," ")))):Oe>=750&&Oe<=1191?t.push(r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("tr",null,r.a.createElement(ue,{userid:c})),r.a.createElement("tr",null,n.author.name," ")),r.a.createElement("td",null,r.a.createElement("tr",null,r.a.createElement(k.a,{class:"sbut",onClick:function(){return e.delrecord(s,a,o)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c"),r.a.createElement(k.a,{class:"sbut",onClick:function(){return e.settochangerec(s,a,o)}},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c"),r.a.createElement(k.a,{class:"sbut",onClick:function(){return e.setrecordid(s)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439")),r.a.createElement("div",{class:"white_space1"},r.a.createElement("tr",null,n.message)),r.a.createElement("tr",null,r.a.createElement(be,{recordid:s,open:e.state.open,newcoment:e.state.newcoment}))))):Oe<750&&t.push(r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("tr",null,r.a.createElement(k.a,{class:"sbut",onClick:function(){return e.delrecord(s,a,o)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c")," ",r.a.createElement("br",null),r.a.createElement(k.a,{class:"sbut",onClick:function(){return e.settochangerec(s,a,o)}},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c"),r.a.createElement("br",null),r.a.createElement(k.a,{class:"sbut",onClick:function(){return e.setrecordid(s)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439")),r.a.createElement("div",{class:"white_space1"},r.a.createElement("tr",null,n.message)),r.a.createElement("tr",null,r.a.createElement(be,{recordid:s,open:e.state.open,newcoment:e.state.newcoment})))))},o=this.state.records.length-1;o>=0;o--)s(o);console.log(t);var l=window.location.pathname,i=decodeURI(l);return l=i.split("/"),i=l[4],Oe>=1192&&(a.push(r.a.createElement("th",null,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435")),n.push(r.a.createElement("th",null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"))),Oe<750&&c.push(r.a.createElement("br",null)),Oe>=750&&Oe<=1191&&n.push(r.a.createElement("th",null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c")),[r.a.createElement("div",{id:"Records"},r.a.createElement("table",{className:"table_blur"},r.a.createElement("caption",null,r.a.createElement(k.a,{className:"sbut",onClick:this.openModalrecord.bind(this)},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c")," ",c,"  ",i,"  ",c," ",r.a.createElement(k.a,{className:"sbut",onClick:this.toggleChildMenu.bind(this)},"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438")," "),r.a.createElement("tr",null,n,r.a.createElement("th",null,"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"),a),t)),r.a.createElement("div",{id:"Model"},r.a.createElement(pe.a,{isOpen:this.state.modalrecordIsOpen,onRequestClose:this.closeModalrecord.bind(this),style:ve,contentLabel:"AddRecord Modal"},r.a.createElement("div",null,"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0437\u0430\u043f\u0438\u0441\u044c"),r.a.createElement("form",null,r.a.createElement("textarea",{name:"record",id:"newRecord"}),"                              ",r.a.createElement(k.a,{onClick:this.addrecord},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c")))),r.a.createElement("div",{id:"Model1"},r.a.createElement(pe.a,{isOpen:this.state.modalcomentIsOpen,onRequestClose:this.closeModalcoment.bind(this),style:ve,contentLabel:"AddComent Modal"},r.a.createElement("div",null,"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),r.a.createElement("form",null,r.a.createElement("textarea",{name:"coment",id:"newComment"}),"                              ",r.a.createElement(k.a,{onClick:this.addcoment},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439")))),r.a.createElement("div",{id:"Model2"},r.a.createElement(pe.a,{isOpen:this.state.modalchangerecIsOpen,onRequestClose:this.closeModalchangerec.bind(this),style:ve,contentLabel:"ChangeRec Modal"},r.a.createElement("div",null,"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c"),r.a.createElement("form",null,r.a.createElement("textarea",{id:"changeTextArea",name:"changerec"}),"                              ",r.a.createElement(k.a,{onClick:this.changerecord},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c"))))]}}]),t}(n.Component),Oe=window.screen.width,je=(Object(o.b)(function(e){return e})(we),we);window.location.pathname.indexOf("/records")+1&&(document.title="Forum Page");var ye={username:function(){var e=("; "+document.cookie).split("; username=");return 2===e.length?e.pop().split(";").shift():"username not set"}()};var Ce=Object(N.b)(function(e,t){var a=Object.assign({},e);switch(t.type){case"SET_USERNAME":return a.username=t.username,a;default:return a}},ye),ke=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return document.title="Forum page",r.a.createElement("div",null,r.a.createElement(o.a,{store:Ce},r.a.createElement(H,null)),r.a.createElement(z,{info:"\u041d\u0430\u0441\u043b\u0430\u0436\u0434\u0430\u0439\u0442\u0435\u0441\u044c \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u043c, \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0439\u0442\u0435 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438)"}),r.a.createElement("div",{id:"main_records"},r.a.createElement(je,null),r.a.createElement("div",{id:"footer"},r.a.createElement("div",{id:"bot"},r.a.createElement(I,{author1:"@ \u0425\u0440\u0443\u043b\u0435\u0432 \u0412\u0438\u043a\u0442\u043e\u0440",author2:"\u0412\u043e\u0437\u0436\u0430\u0435\u0432 \u0410\u0440\u0442\u0435\u043c",group:"\u0418\u0422\u041c\u041e 2018"})))))}}]),t}(n.Component),xe={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"300px",height:"200px"}},_e=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={users:[],modalrecordIsOpen:!1,tomail:""},a.sendmessage=function(){var e=a.state.tomail,t=document.getElementById("newRecord").value,n="commands/messages/send/"+e,r=new FormData;r.set("message",t),a.closeModalmessage(),fetch(n,{method:"POST",body:r}).then(function(e){e.ok?e.json().then(function(e){a.closeModalmessage(),a.forceUpdate()}).catch(function(e){console.log("json parse error: "+e)}):console.log("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.")}).catch(function(e){console.log("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441: "+e)})},fetch("commands/users/all",{method:"GET"}).then(function(e){e.ok?e.json().then(function(e){a.state.users=e,console.log(e),a.forceUpdate()}).catch(function(e){console.log(e.message)}):a.handleChange("error","\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.")}).catch(function(e){alert("\u041d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441: "+e.statusText)}),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"openModalmessage",value:function(){this.setState({modalrecordIsOpen:!0})}},{key:"closeModalmessage",value:function(){this.setState({modalrecordIsOpen:!1})}},{key:"settomaild",value:function(e){this.setState({modalrecordIsOpen:!0}),this.setState({tomail:e})}},{key:"render",value:function(){for(var e=this,t=[],a=function(a){console.log(e.state.users[a]);var n=e.state.users[a],c="/webApp/avatar_"+n.id+".png",s="/webApp/dialog/"+n.email;n.email;Se>=1192||Se>=750&&Se<=1191?t.push(r.a.createElement("tr",null,r.a.createElement("td",{class:"white_space"},r.a.createElement("div",{id:"messageuser"},r.a.createElement("div",{class:"mesimg"},r.a.createElement(ue,{userid:c})),r.a.createElement("div",{class:"mesuser"},r.a.createElement("ul",{class:"beads white_space"},r.a.createElement("li",{class:"white_space"},r.a.createElement(L.a,{to:s},n.name)))))),r.a.createElement("td",{class:"white_space"}," ",r.a.createElement(k.a,{onClick:function(t){return e.settomaild(n.id)}},"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435")," "))):Se<750&&t.push(r.a.createElement("tr",null,r.a.createElement("td",{class:"white_space"},r.a.createElement("div",{id:"messageuser"},r.a.createElement("div",{class:"mesimg"},r.a.createElement(ue,{userid:c})),r.a.createElement("div",{class:"mesuser"},r.a.createElement("ul",{class:"beads"},r.a.createElement("li",null,"  ",r.a.createElement(L.a,{to:s},n.name)))))),r.a.createElement("td",{class:"white_space"}," ",r.a.createElement(k.a,{onClick:function(t){return e.settomaild(n.id)}},"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c")," ")))},n=this.state.users.length-1;n>=0;n--)a(n);return[r.a.createElement("div",{id:"MessageComponent"},r.a.createElement("table",{className:"table_blur"},r.a.createElement("tr",null,r.a.createElement("th",null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"),r.a.createElement("th",null,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")),t)),r.a.createElement("div",{id:"Model"},r.a.createElement(pe.a,{isOpen:this.state.modalrecordIsOpen,onRequestClose:this.closeModalmessage.bind(this),style:xe,contentLabel:"SendMessage Modal"},r.a.createElement("div",null,"\u041e\u0442\u043f\u0440\u0430\u0432\u044c\u0442\u0435 \u0441\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"),r.a.createElement("form",null,r.a.createElement("textarea",{name:"record",id:"newRecord"}),"                              ",r.a.createElement(k.a,{onClick:this.sendmessage},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))))]}}]),t}(n.Component),Se=window.screen.width,Te=(Object(o.b)(function(e){return e})(_e),_e);window.location.pathname.indexOf("/message")+1&&(document.title="Message Page");var Ae={username:function(){var e=("; "+document.cookie).split("; username=");return 2===e.length?e.pop().split(";").shift():"username not set"}()};var Me=Object(N.b)(function(e,t){var a=Object.assign({},e);switch(t.type){case"SET_USERNAME":return a.username=t.username,a;default:return a}},Ae),Ie=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return document.title="Dialog page",r.a.createElement("div",null,r.a.createElement(o.a,{store:Me},r.a.createElement(H,null)),r.a.createElement(z,{info:"\u041e\u0431\u043c\u0435\u043d\u0438\u0432\u0430\u0439\u0442\u0435\u0441\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f\u043c\u0438, \u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438)"}),r.a.createElement("div",{id:"main_message"},r.a.createElement(Te,null),r.a.createElement("div",{id:"footer"},r.a.createElement("div",{id:"bot"},r.a.createElement(I,{author1:"@ \u0425\u0440\u0443\u043b\u0435\u0432 \u0412\u0438\u043a\u0442\u043e\u0440",author2:"\u0412\u043e\u0437\u0436\u0430\u0435\u0432 \u0410\u0440\u0442\u0435\u043c",group:"\u0418\u0422\u041c\u041e 2018"})))))}}]),t}(n.Component);window.location.pathname.indexOf("/dialog")+1&&(document.title="Dialog Page");var Ue={username:function(){var e=("; "+document.cookie).split("; username=");return 2===e.length?e.pop().split(";").shift():"username not set"}()};var Ne=Object(N.b)(function(e,t){var a=Object.assign({},e);switch(t.type){case"SET_USERNAME":return a.username=t.username,a;default:return a}},Ue),Re=function(e){function t(e){var a;Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={message:[]};var n=window.location.pathname;n=n.split("/"),console.log(n);var r=n[3];return console.log(r),fetch("/webApp/commands/messages/"+r,{method:"GET"}).then(function(e){e.ok?e.json().then(function(e){a.state.message=e,a.forceUpdate(),console.log(e)}).catch(function(e){alert(e.message)}):a.handleChange("error","\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.")}).catch(function(e){alert("\u041d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441: "+e.statusText)}),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){for(var e=[],t=this.state.message.slice(),a=(t=t.sort(function(e,t){return e.date>t.date?1:e.date<t.date?-1:0})).length-1;a>=0;a--){console.log(t[a]);var n=t[a];e.push(r.a.createElement("tr",null,r.a.createElement("td",{class:"white_space"},n.messageText),r.a.createElement("td",null,n.date," ")))}return r.a.createElement("div",null,r.a.createElement(o.a,{store:Ne},r.a.createElement(H,null)),r.a.createElement(z,{info:"\u0417\u0434\u0435\u0441\u044c, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441\u0432\u043e\u0439 \u0434\u0438\u0430\u043b\u043e\u0433)"}),r.a.createElement("div",{id:"main_message"},r.a.createElement("div",{id:"MessageComponent"},r.a.createElement("table",{className:"table_blur"},r.a.createElement("tr",null,r.a.createElement("th",null,"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"),r.a.createElement("th",null,"\u0414\u0430\u0442\u0430")),e)),r.a.createElement("div",{id:"footer"},r.a.createElement("div",{id:"bot"},r.a.createElement(I,{author1:"@ \u0425\u0440\u0443\u043b\u0435\u0432 \u0412\u0438\u043a\u0442\u043e\u0440",author2:"\u0412\u043e\u0437\u0436\u0430\u0435\u0432 \u0410\u0440\u0442\u0435\u043c",group:"\u0418\u0422\u041c\u041e 2018"})))))}}]),t}(n.Component),Pe=(window.screen.width,Re),Be=(a(144),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).label=e.label,a.text=e.text,a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"profileUserInfoLine"},r.a.createElement("div",{className:"heading is-color3-light"},this.label),r.a.createElement("div",{className:"title is-color3-light"},this.text))}}]),t}(n.Component)),De=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).user=e.user,a.userAvatar=e.userAvatar,a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{class:"tile is-ancestor is-color1"},r.a.createElement("div",{class:"tile is-color3-light profile-avatar is-vertical"},r.a.createElement(ue,{userid:this.userAvatar}),r.a.createElement("div",{class:"file"},r.a.createElement("label",{class:"file-label"},r.a.createElement("form",{enctype:"multipart/form-data",method:"post",action:"/webApp/commands/utils/imgUpload/avatar_"+this.user.id+".png"},r.a.createElement("input",{type:"file",name:"file",accept:"image/png"}),r.a.createElement("input",{type:"submit",value:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"}))))),r.a.createElement("div",{class:"tile is-vertical is-7"},r.a.createElement(Be,{label:"\u0418\u043c\u044f",text:this.user.name}),r.a.createElement(Be,{label:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",text:this.user.birthday}),r.a.createElement(Be,{label:"\u041f\u043e\u043b",text:this.user.gender}),r.a.createElement(Be,{label:"\u0421\u043f\u043e\u0440\u0442\u0438\u0432\u043d\u044b\u0439 \u0440\u0430\u0437\u0440\u044f\u0434",text:this.user.sportRate}),r.a.createElement(Be,{label:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433",text:this.user.rate}),r.a.createElement(Be,{label:"Email",text:this.user.email})))}}]),t}(n.Component),Ge=a(167),Fe=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).handleChange=function(e,t){a.setState(Object(O.a)({},a.state,Object(w.a)({},e,t)))},a.cancelEditing=function(){a.state.toProfileInfo=!0,a.forceUpdate()},a.saveChanges=function(){var e=new FormData;e.set("name",a.state.name),e.set("gender",a.state.gender),e.set("password",a.state.password),fetch("/webApp/commands/users/profile/change",{method:"post",body:e}).then(function(e){e.ok?(a.state.toProfileInfo=!0,a.forceUpdate()):a.handleChange("error","\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.")}).catch(function(e){console.log("\u041d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441: "+e.statusText)})},a.user=e.user,a.state={name:a.user.name,gender:a.user.gender,email:a.user.email,password:"",sportRate:a.user.sportRate,toProfileInfo:!1,birthday:a.user.birthday},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return!0===this.state.toProfileInfo?r.a.createElement(Ge.a,{to:"/webApp/"}):r.a.createElement("div",{id:"profileEdit",className:"is-color3"},r.a.createElement("section",null,r.a.createElement(y.a,{type:"text",label:"\u0418\u043c\u044f",name:"name",value:this.state.name,required:!0,onChange:this.handleChange.bind(this,"name"),maxLength:16}),r.a.createElement(y.a,{type:"text",label:"\u041f\u043e\u043b",name:"gender",value:this.state.gender,required:!0,onChange:this.handleChange.bind(this,"gender"),maxLength:1}),r.a.createElement(y.a,{type:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",value:this.state.password,required:!0,onChange:this.handleChange.bind(this,"password")})),r.a.createElement(k.a,{label:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",raised:!0,primary:!0,onClick:this.saveChanges}),r.a.createElement(k.a,{label:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",onClick:this.cancelEditing,raised:!0}))}}]),t}(n.Component),We=(a(68),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).currentUser="",a.selectedUser=!1,a.match=e.match,fetch("/webApp/commands/users/profile/info",{method:"GET"}).then(function(e){e.ok?e.json().then(function(e){a.currentUser=e,a.selectedUser=!0,console.log(e),a.forceUpdate()}).catch(function(e){console.log(e.message)}):a.handleChange("error","\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.")}).catch(function(e){console.log("\u041d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441: "+e.statusText)}),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return document.title="Profile page",this.selectedUser?r.a.createElement("div",null,r.a.createElement(H,null),r.a.createElement("div",{class:"is-color2",id:"profileMain"},r.a.createElement("div",{class:"tile is-ancestor"},r.a.createElement("div",{class:"tile is-vertical"},r.a.createElement("div",{id:"profileTitle"},r.a.createElement("div",null,r.a.createElement("h1",{class:"title"},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c")),r.a.createElement("div",{class:"tile is-1"},r.a.createElement("h2",{class:"header"}," ",r.a.createElement(L.a,{to:this.match.path+"/edit"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c ")," "))),r.a.createElement(v.a,{exact:!0,path:"/webApp/users/profile/edit",render:function(){return r.a.createElement(Fe,{user:e.currentUser})}}),r.a.createElement(v.a,{exact:!0,path:this.match.path,render:function(){return r.a.createElement(De,{user:e.currentUser,userAvatar:"/webApp/avatar_"+e.currentUser.id+".png"})}}))))):r.a.createElement("div",null,r.a.createElement(H,null),r.a.createElement("div",{class:"is-color2",id:"profileMain"},r.a.createElement("div",{class:"tile is-ancestor"},r.a.createElement("div",{class:"tile is-vertical"},r.a.createElement("div",{id:"profileTitle"},r.a.createElement("div",null,r.a.createElement("h1",{class:"title"},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c")),r.a.createElement("div",{class:"tile is-1"},r.a.createElement("h2",{class:"header"}," ",r.a.createElement(L.a,{to:this.match.path+"/edit"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c ")," ")))))))}}]),t}(n.Component)),Le=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={min:e.min,max:e.max,value:e.value,name:e.name},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"box"},r.a.createElement("p",{class:"title is-3"},this.state.name),r.a.createElement("p",{class:"subtitle is-5"},this.state.value,"/",this.state.max),r.a.createElement("progress",{class:"progress is-info",value:this.state.value,max:this.state.max,min:this.state.min},this.state.value))}}]),t}(n.Component),qe=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={value:e.value,name:e.name},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"box"},r.a.createElement("p",{class:"title is-3"},this.state.name),r.a.createElement("p",{class:"subtitle is-5"},this.state.value))}}]),t}(n.Component),He=(n.Component,n.Component,a(28)),ze=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).toggle=a.toggle.bind(Object(He.a)(Object(He.a)(a))),a.state={opacity:!1},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"toggle",value:function(){var e=s.a.findDOMNode(this);this.setState({opacity:!this.state.opacity,top:e.offsetTop,left:e.offsetLeft})}},{key:"render",value:function(){var e={zIndex:this.state.opacity?1e3:-1e3,opacity:+this.state.opacity,top:(this.state.top||0)+20,left:(this.state.left||0)-30};return r.a.createElement("div",{style:{display:"inline"}},r.a.createElement("span",{style:{color:"blue"},onMouseEnter:this.toggle,onMouseOut:this.toggle},this.props.children),r.a.createElement("div",{className:"tooltip bottom",style:e},r.a.createElement("div",{className:"tooltip-arrow"}," "),r.a.createElement("div",{className:"tooltip-inner",style:{textAlign:"left"}},"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438: ",r.a.createElement("br",null),"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c: ",this.props.speedEffect," ",r.a.createElement("br",null),"\u0423\u0441\u043a\u043e\u0440\u0435\u043d\u0438\u0435: ",this.props.boostEffect," ",r.a.createElement("br",null),"\u0423\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c\u043e\u0441\u0442\u044c: ",this.props.controllabilityEffect," ",r.a.createElement("br",null),"\u0412\u0435\u0441:  ",this.props.weight," ",r.a.createElement("br",null),"\u0426\u0435\u043d\u0430: ",this.props.price)))}}]),t}(r.a.Component),Je=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).getProducers=function(){fetch("/webApp/commands/producers/all",{method:"GET"}).then(function(e){e.ok?e.json().then(function(e){a.state.producers=e,a.state.activeProducer=e[0],console.log("Got producers",e),console.log("Active producer now:",a.state.activeProducer),a.forceUpdate()}).catch(function(e){console.log(e)}):a.handleChange("error","\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.")}).catch(function(e){alert("\u041d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441: "+e.statusText)})},a.getBoats=function(){fetch("/webApp/commands/producers/boats/all",{method:"GET"}).then(function(e){e.ok?e.json().then(function(e){a.state.boats=e,a.state.activeBoat=e[0],console.log("Got boats:",e),console.log("Active boat now:",a.state.activeBoat),a.countProperties(a.state.activeBoat),a.forceUpdate()}).catch(function(e){console.log(e.message)}):a.handleChange("error","\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.")}).catch(function(e){alert("\u041d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441: "+e.statusText)})},a.addDetail=function(e){for(var t=[],n=0;n<a.state.details.length;n++)t.push(a.state.details[n].type);-1===t.indexOf(e.type)&&(a.state.details.push(e),a.countProperties(a.state.activeBoat),a.forceUpdate())},a.deleteDetail=function(e){a.state.speed=-a.state.details[e].speedEffect+ +a.state.speed,a.state.boost=-a.state.details[e].boostEffect+ +a.state.boost,a.state.control=-a.state.details[e].controllabilityEffect+ +a.state.control,a.state.weight=-a.state.details[e].weight+ +a.state.weight,a.state.price=-a.state.details[e].price+ +a.state.price,a.state.details.splice(e,1),a.forceUpdate()},a.createDetailsGroupsFromProducer=function(e){for(var t=[],n=0;n<e.details.length;n++)-1===t.indexOf(e.details[n].type)&&t.push(e.details[n].type);for(var c=[],s=function(n){for(var s=[],o=0;o<e.details.length;o++)t[n]==e.details[o].type&&s.push(e.details[o]);console.log("Details in group "+t[n],s);var l=[];s.forEach(function(e){var t=e.boostEffect,n=e.controllabilityEffect,c=e.speedEffect,s=e.price,o=e.weight,i=r.a.createElement("button",{onClick:function(){return a.addDetail(e)}},r.a.createElement("figure",{class:"image is-128x128"},r.a.createElement(ue,{userid:"/webApp/detail_"+e.id+".png"})),r.a.createElement(ze,{boostEffect:t,controllabilityEffect:n,speedEffect:c,price:s,weight:o}," INFO"));l.push(i)}),c.push(r.a.createElement("div",{className:"box"},r.a.createElement("p",{class:"title is-3"},t[n]),r.a.createElement("div",{class:"tile is-ancestor"},l)))},o=0;o<t.length;o++)s(o);return c},a.handleBoatChange=function(e){var t=document.getElementById("boatSelect"),n=t.options[t.selectedIndex].value;console.log("change boat:",n),a.setState({activeBoat:a.state.boats[n]}),a.forceUpdate()},a.handleProducerChange=function(e){var t=document.getElementById("producerSelect"),n=t.options[t.selectedIndex].value;console.log("change producer",n),a.setState({activeProducer:a.state.producers[n]}),a.forceUpdate()},a.createBoatsOptions=function(){for(var e=[],t=0;t<a.state.boats.length;t++)e.push(r.a.createElement("option",{value:t},a.state.boats[t].type)),console.log("Option boat:",a.state.boats[t].type);return e},a.createProducersOptions=function(){for(var e=[],t=0;t<a.state.producers.length;t++)e.push(r.a.createElement("option",{value:t},a.state.producers[t].name)),console.log("Option producer:",a.state.producers[t].name);return e},a.countProperties=function(e){a.state.maxWeight=0,a.state.speed=0,a.state.boost=0,a.state.control=0,a.state.weight=0,a.state.price=0;for(var t=0;t<a.state.details.length;t++){var n=a.state.details[t];a.state.speed=+n.speedEffect+ +a.state.speed,a.state.boost=+n.boostEffect+ +a.state.boost,a.state.control=+n.controllabilityEffect+ +a.state.control,a.state.weight=+n.weight+ +a.state.weight,a.state.price=+n.price+ +a.state.price}a.state.maxWeight=e.loadCapacity,a.state.speed=+e.maxSpeed+ +a.state.speed,a.state.boost=+e.boost+ +a.state.boost,a.state.control=+e.controllability+ +a.state.control,a.state.weight=+e.weight+ +a.state.weight,a.state.price=+e.price+ +a.state.price},a.createDetailsTags=function(){for(var e=[],t=function(t){e.push(r.a.createElement("span",{class:"tag is-warning is-medium"},a.state.details[t].type,r.a.createElement("button",{class:"delete is-small",onClick:function(){return a.deleteDetail(t)}})))},n=0;n<a.state.details.length;n++)t(n);return console.log(e),e},a.state={details:[],activeBoat:"",activeProducer:{details:[]},speed:"",boost:"",maxWeight:"",control:"",weight:"",price:"",boats:[],producers:[]},a.getProducers(),a.getBoats(),a.countProperties(a.state.activeBoat),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return console.log("active boat",this.state.activeBoat),document.title="Boat constructor page",r.a.createElement("div",null,r.a.createElement(H,null),r.a.createElement("div",{class:"is-color2 ",id:"boatConstructorMain"},r.a.createElement("div",{class:"tile is-ancestor"},r.a.createElement("div",{class:"tile is-4 is-color3-light is-vertical"},r.a.createElement("h1",{class:"title is-1"},"\u041b\u043e\u0434\u043a\u0430"),r.a.createElement("div",{class:"field"},r.a.createElement("div",{class:"control"},r.a.createElement("div",{class:"select is-medium"},r.a.createElement("select",{id:"boatSelect",onChange:this.handleBoatChange},this.createBoatsOptions())))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("figure",{class:"image is-4by3"},r.a.createElement(ue,{userid:"/webApp/boat_"+this.state.activeBoat.id+".png"}))),r.a.createElement("div",null,r.a.createElement("h1",{class:"title is-1"},"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"),r.a.createElement("div",{className:"box"},r.a.createElement("p",{class:"title is-3"},"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c"),r.a.createElement("p",{class:"subtitle is-5"},this.state.speed,"/1500"),r.a.createElement("progress",{class:"progress is-info",value:this.state.speed,max:1500,min:0},this.state.speed)),r.a.createElement("div",{className:"box"},r.a.createElement("p",{class:"title is-3"},"\u0423\u0441\u043a\u043e\u0440\u0435\u043d\u0438\u0435"),r.a.createElement("p",{class:"subtitle is-5"},this.state.boost," /500"),r.a.createElement("progress",{class:"progress is-info",value:this.state.boost,max:500,min:0},this.state.boost," ")),r.a.createElement("div",{className:"box"},r.a.createElement("p",{class:"title is-3"},"\u0413\u0440\u0443\u0437\u043e\u043f\u043e\u0434\u044a\u0435\u043c\u043d\u043e\u0441\u0442\u044c"),r.a.createElement("p",{class:"subtitle is-5"},this.state.maxWeight,"/500"),r.a.createElement("progress",{class:"progress is-info",value:this.state.maxWeight,max:500,min:0},this.state.maxWeight)),r.a.createElement("div",{className:"box"},r.a.createElement("p",{class:"title is-3"},"\u0423\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c\u043e\u0441\u0442\u044c"),r.a.createElement("p",{class:"subtitle is-5"},this.state.control,"/300"),r.a.createElement("progress",{class:"progress is-info",value:this.state.control,max:300,min:0},this.state.control)),r.a.createElement("div",{className:"box"},r.a.createElement("p",{class:"title is-3"},"\u0412\u0435\u0441"),r.a.createElement("p",{class:"subtitle is-5"},this.state.weight)),r.a.createElement("div",{className:"box"},r.a.createElement("p",{class:"title is-3"},"\u0426\u0435\u043d\u0430"),r.a.createElement("p",{class:"subtitle is-5"},this.state.price)),r.a.createElement("div",{class:"tags"},this.createDetailsTags())))),r.a.createElement("div",{class:"tile is-color3-light is-vertical"},r.a.createElement("h1",{class:"title is-1"},"\u0414\u0435\u0442\u0430\u043b\u0438"),r.a.createElement("div",{class:"field"},r.a.createElement("div",{class:"control"},r.a.createElement("div",{class:"select is-medium"},r.a.createElement("select",{id:"producerSelect",onChange:this.handleProducerChange},this.createProducersOptions())))),this.createDetailsGroupsFromProducer(this.state.activeProducer)))))}}]),t}(n.Component),Ze=(a(161),function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(b.a,null,r.a.createElement(g.a,null,r.a.createElement(v.a,{path:"/webApp/dialog",component:Pe}),r.a.createElement(v.a,{path:"/webApp/message",component:Ie}),r.a.createElement(v.a,{path:"/webApp/records",component:ke}),r.a.createElement(v.a,{path:"/webApp/topics",component:oe}),r.a.createElement(v.a,{path:"/webApp/sections",component:re}),r.a.createElement(v.a,{path:"/webApp/users/profile",component:We}),r.a.createElement(v.a,{path:"/webApp/boats",component:Je}),r.a.createElement(v.a,{path:"/",component:V}))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(i.a,{theme:m.a},r.a.createElement(Ze,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},18:function(e,t,a){e.exports=a.p+"static/media/utocka.5403c0a3.png"},68:function(e,t,a){},71:function(e,t){e.exports={RTButton:{button:"_1T6gd",rippleWrapper:"_3rch8",squared:"x_Fgj",icon:"t6_L8",solid:"HUuyg",raised:"_33l7R _1T6gd x_Fgj HUuyg",flat:"_2JPw5 _1T6gd x_Fgj",floating:"_2U_a5 _1T6gd HUuyg",mini:"_2for7",toggle:"_3xRDd _1T6gd",primary:"_29RI9",accent:"mWBhu",neutral:"_3ViU3",inverse:"_1kgaQ"},RTRipple:{rippleWrapper:"cNe4x",ripple:"_1zJTi",rippleRestarting:"_3wQEe",rippleActive:"_1eRuo"},RTInput:{input:"_2dBwA",withIcon:"_2uwUs",icon:"_2H9rJ",inputElement:"_2WvFs",bar:"fT1WI",label:"_3NjcG",fixed:"_1ANNN",required:"HMiz1",hint:"_1yQnr",filled:"_3QmiH",error:"_1p4yC",counter:"_2dI1B",disabled:"_2sOZC",errored:"ZsBmg",hidden:"_3Wr_7"},RTNavigation:{horizontal:"_1LRT1",vertical:"_1A_xp"},RTLink:{icon:"_15_xe",link:"_2EYXG",active:"_5HYX"},RTAppBar:{appBar:"_3gTh_",scrollHide:"_3S2IT",flat:"tf7de",fixed:"_3jqvO",inner:"p2nb7",title:"_3Tmun",leftIcon:"HDVfX",rightIcon:"_2DC6l"}}},76:function(e,t,a){e.exports=a(163)},85:function(e,t,a){},91:function(e,t,a){}},[[76,2,1]]]);
//# sourceMappingURL=main.f5e0ad1d.chunk.js.map